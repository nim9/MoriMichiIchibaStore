# MoriMichiIchibaStore データ収集・カテゴリ分類ツール

## 概要

このプログラムは、[森、道、市場](https://morimichiichiba.jp/) のエリア・店舗情報を自動で収集し、各店舗のFAQ内容からカテゴリ分類・キーワード抽出・TSV/JSON出力を行うDenoスクリプトです。

## 注意事項

- 本スクリプトは森、道、市場公式とは一切関係の無い個人が作成したスクリプトです。このスクリプトの動作等について森、道、市場公式へ問い合わせすることはしないでください。
- 本スクリプトはWebスクレイピングを行います。対象サイトの利用規約やアクセス頻度にご注意ください。
- Denoのバージョンや依存ライブラリの仕様変更により動作しなくなる場合があります。
- 2025年開催時のサイトを元に作成しているため、2026年以降でも動くかどうかはわかりません。
- 各店舗のエリアが確定していない状態ではデータを収集することができません。  

## 主な機能

- 森道市場のエリア一覧・店舗一覧をWebスクレイピングで取得
- 各店舗のFAQ（質問・回答）を取得
- FAQの内容からカテゴリ（飲食・雑貨・体験など）を自動判定
- カテゴリごとにJSON/TSVファイルを出力
- 全店舗・カテゴリ未分類店舗のデータも出力

## 使い方

1. **Denoのインストール**  
   [Deno公式サイト](https://deno.com/)からDenoをインストールしてください。

2. **依存ライブラリ**  
   `deno-dom-wasm` を利用しています。インターネット接続があれば自動で取得されます。

3. **スクリプトの実行**  
   ターミナルで以下のコマンドを実行してください。

   ```
   deno run --allow-net --allow-read --allow-write main.ts
   ```

4. **出力ファイル**  
   すべてoutputフォルダに出力されます。
   - `allstore.json` : 全店舗データ
   - `<カテゴリ名>.json` / `<カテゴリ名>.tsv` : 各カテゴリごとの店舗データ
   - `nonCategory.json` / `nonCategory.tsv` : カテゴリ未分類店舗

## ファイル構成

- `main.ts` : メインスクリプト
- `README.md` : この説明ファイル

## 主な処理の流れ

1. エリア一覧ページからエリア情報を取得
2. 各エリアごとに店舗一覧を取得
3. 各店舗ページからFAQ（質問・回答）を取得
4. FAQの内容からキーワードを抽出し、カテゴリ分類
5. カテゴリごと・全体・未分類でJSON/TSVファイルを出力

## ライセンス

MIT License